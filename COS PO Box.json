{
  "Name": "COS PO Box",
  "CreationDate": "2019-12-2",
  "Commands": [
    {
      "Command": "executeScript",
      "Target": "return window.document.querySelector('#person_address > section > main > div.block > div:nth-child(4) > div.edit-user-set-wrap > ul:nth-child(1) > li:nth-child(1) > input').value.split(' ')[0].toUpperCase();",
      "Value": "ADDRESS1_FIRST_WORD"
    },
    {
      "Command": "store",
      "Target": "",
      "Value": "POBOX"
    },
    {
      "Command": "if_v2",
      "Target": "${ADDRESS1_FIRST_WORD}==='PO';",
      "Value": ""
    },
    {
      "Command": "executeScript",
      "Target": "window.cleanUp.extractPOBox=function(a1,z){ \tvar ad1=a1.value.split(' '); \tvar hyphen=z.length?'-':''; \tpb=''; \tif(ad1[0]==='PO'&&ad1[1]==='Box'){ \t  pb=z.value.substring(0,5)+hyphen+ad1[2].padStart(4, '0');  \t} \treturn pb; }",
      "Value": ""
    },
    {
      "Command": "executeScript",
      "Target": "return window.cleanUp.extractPOBox(window.document.querySelector('#person_address > section > main > div.block > div:nth-child(4) > div.edit-user-set-wrap > ul:nth-child(1) > li:nth-child(1) > input'),window.document.querySelector('#person_address > section > main > div.block > div:nth-child(4) > div.edit-user-set-wrap > ul:nth-child(1) > li:nth-child(4) > input'));",
      "Value": "POBOX"
    },
    {
      "Command": "executeScript",
      "Target": "return ${ADDRESS2}===''?'PO Box '+${POBOX}:${ADDRESS2}+', PO Box '+${POBOX};",
      "Value": "ADDRESS2"
    },
    {
      "Command": "type",
      "Target": "xpath=//*[@id=\"person_address\"]/section/main/div[2]/div[2]/div[2]/ul[1]/li[2]/input",
      "Value": "${ADDRESS2}"
    },
    {
      "Command": "executeScript",
      "Target": "return ${ADDRESS1}.split(' ').length>3?${ADDRESS1}.split(' ').slice(3).join(' '):' ';",
      "Value": "ADDRESS1"
    },
    {
      "Command": "type",
      "Target": "xpath=//*[@id=\"person_address\"]/section/main/div[2]/div[2]/div[2]/ul[1]/li[1]/input",
      "Value": "${ADDRESS1}"
    },
    {
      "Command": "storeValue",
      "Target": "xpath=//*[@id=\"person_address\"]/section/main/div[2]/div[2]/div[2]/ul[1]/li[4]/input",
      "Value": "ZIP"
    },
    {
      "Command": "if_v2",
      "Target": "${ZIP}===${POBOX}",
      "Value": ""
    },
    {
      "Command": "executeScript",
      "Target": "return ${ZIP}.substring(0,5);",
      "Value": "ZIP"
    },
    {
      "Command": "type",
      "Target": "xpath=//*[@id=\"person_address\"]/section/main/div[2]/div[2]/div[2]/ul[1]/li[4]/input",
      "Value": "${ZIP}"
    },
    {
      "Command": "end",
      "Target": "",
      "Value": ""
    },
    {
      "Command": "end",
      "Target": "",
      "Value": ""
    }
  ]
}